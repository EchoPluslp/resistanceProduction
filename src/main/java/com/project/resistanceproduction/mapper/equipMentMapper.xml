<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.project.resistanceproduction.mapper.equipMentMapper">

    <select id="getEquipMentUserInfo"  parameterType="com.project.resistanceproduction.entity.equipMent"  resultType="com.project.resistanceproduction.entity.equipMent">
    select id as id ,
           type as type,
           status as status,
           introduce as descriptionInfo,
           name as name,
           ftpInfostatus as ftpInfostatus

        from equipment


    </select>

    <select id="getEquipMentListCount"   resultType="Integer">
        select count(*)
        from equipment
    </select>

    <select id="readEquipmentInfoByid"    parameterType="Integer" resultType = "com.project.resistanceproduction.entity.equipMent">
        select *
        from equipment where id = #{id}
    </select>

    <insert id="insertData"    parameterType = "com.project.resistanceproduction.entity.fileInfoItem">
        insert into fileinfo(filename,date,fetchtime,type,equipmentid) values (#{fileInfoItem.fileName}, #{fileInfoItem.date}, #{fileInfoItem.fetchTime},#{fileInfoItem.type},#{fileInfoItem.equipMentId})
    </insert>

    <select id="getEquipFileName" resultType="java.lang.String"  parameterType = "com.project.resistanceproduction.entity.equipMentItemInfo">
        select filename from fileinfo where fileinfo.type = #{equipmentInfo.type} and fileinfo.equipmentid = #{equipmentInfo.equipMentId}
                and fileinfo.fetchtime between #{equipmentInfo.startTime} and #{equipmentInfo.endTime}
        </select>
</mapper>